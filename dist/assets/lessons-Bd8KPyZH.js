var y=Object.defineProperty;var v=(t,e,s)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var l=(t,e,s)=>v(t,typeof e!="symbol"?e+"":e,s);import{p as m,g as n,u as i,U as E}from"./setInfo-eSbuLtId.js";class w{constructor(){l(this,"selectors",{root:"[data-js-theme]",body:"[data-js-theme-body]",btn:"[data-js-theme-btn]"});l(this,"classes",{isLight:"is-light",isDark:"is-dark"});this.themeElement=$(this.selectors.root),this.themeBodyElement=this.themeElement.find(this.selectors.body),this.themeBtnElement=this.themeBodyElement.find(this.selectors.btn),this.theme="light",this.loadFunctions(),this.bindEvents()}loadFunctions(){this.theme=window.localStorage.getItem("theme")??"light",this.changeTheme(this.theme)}bindEvents(){this.themeBodyElement.on("click",this.clickToTheme.bind(this))}clickToTheme(){this.themeBtnElement.hasClass(this.classes.isLight)?this.changeTheme("dark"):this.changeTheme("light")}changeTheme(e){e==="light"?this.setClassToBtn(this.classes.isDark,this.classes.isLight):this.setClassToBtn(this.classes.isLight,this.classes.isDark),this.setClassToBody(e),this.setToLocStore(e)}setClassToBtn(e,s){this.themeBtnElement.removeClass(e),this.themeBtnElement.addClass(s)}setClassToBody(e){e==="light"?$(document.body).removeClass(this.classes.isDark):$(document.body).addClass(this.classes.isDark)}setToLocStore(e){window.localStorage.setItem("theme",e)}}class G{constructor(){l(this,"selectors",{root:"[data-js-animation]",body:"[data-js-animation-body]",btn:"[data-js-animation-btn]"});l(this,"classes",{isActive:"is-active"});this.animationElement=$(this.selectors.root),this.animationBodyElement=this.animationElement.find(this.selectors.body),this.animationBtnElement=this.animationElement.find(this.selectors.btn),this.animation=!0,this.loadFunctions(),this.bindEvents()}loadFunctions(){this.animation=window.localStorage.getItem("animation")==="true",this.changeAnimation(this.animation)}bindEvents(){this.animationBodyElement.on("click",this.clickToAnimation.bind(this))}clickToAnimation(){this.animationBtnElement.hasClass(this.classes.isActive)?this.changeAnimation(!1):this.changeAnimation(!0)}changeAnimation(e){jQuery.fx.off=!e,this.setClassToBtn(e),this.setToLocStore(e)}setClassToBtn(e){e?this.animationBtnElement.addClass(this.classes.isActive):this.animationBtnElement.removeClass(this.classes.isActive)}setToLocStore(e){window.localStorage.setItem("animation",e)}}function B(t){let e=t.getBoundingClientRect(),s=e.top,o=e.left;return{top:s,left:o}}const r={isActive:"is-active",isLock:"is-lock"};function T(t,e){t.addClass(r.isActive);let s=B(e),o=$(e).width(),a=$(e).height();t.css({transformOrigin:`${m(s.left+o/2)}rem ${m(s.top+a/2)}rem`}),$("body").addClass(r.isLock),t.animate({scale:1,opacity:1},150,function(){$(this).css("border-radius","0")})}async function b(t){return new Promise(e=>{t.animate({scale:0,opacity:0},150,()=>{t.removeClass(r.isActive),$("body").removeClass(r.isLock),e()})})}class I{constructor(){l(this,"selectors",{settings:"[data-js-settings]",open:"[data-js-settings-open]",close:"[data-js-settings-close]"});this.settingsElement=$(this.selectors.settings),this.settingsOpenBtn=$(this.selectors.open),this.settingsCloseBtn=$(this.selectors.close),this.bindEvents()}bindEvents(){this.settingsOpenBtn.on("click",()=>{T(this.settingsElement,this.settingsOpenBtn[0])}),this.settingsCloseBtn.on("click",()=>{b(this.settingsElement)})}}function D(t){return n.get(`${i}/student_group/getStudentsGroups.php${t}`)}function C(t){return n.get(`${i}/student_group/checkStudentGroup.php${t}`)}function V(t){return n.post(`${i}/student_group/createStudentGroup.php`,t,{headers:{"Content-Type":"application/json"}})}function x(t){return n.delete(`${i}/student_group/deleteStudentGroup.php`,t)}function F(t){return n.patch(`${i}/student_group/updateStudentGroup.php`,t,{headers:{"Content-Type":"application/json"}})}const h=class h{constructor(){l(this,"checkGroup",async(e="",s="")=>{try{let o=`?user_id=${E.activeUser.id}&id=${e}&name=${s}`;const a=await C(o);if(a.status===200)return!a.data.length;alert("Что-то пошло не так..")}catch{alert("Что-то пошло не так..")}})}getFromLocStore(){h.activeGroup=JSON.parse(window.localStorage.getItem("activeGroup")??"{}")}};l(h,"activeGroup",{});let p=h;function N(t,e){e.text($(t.target).val().length)}const c={form:"[data-js-form]",redactBtn:"[data-js-redact-btn]"};function O(t,e){let{target:s}=t;if(k(s)){let a=s.closest(c==null?void 0:c.form),d=a.querySelector(c==null?void 0:c.redactBtn),u=a.querySelectorAll("input"),g=S(e,u),f=L(u);d.disabled=!f||g}}function k(t){return t.tagName==="INPUT"}function S(t,e){let s=0,o=e.length;return e.forEach((a,d)=>{a.value===t[d]&&s++}),s===o}function L(t){let e=[];return t.forEach(s=>e.push(s.value)),e.every(s=>s.length)}function U(t){return n.get(`${i}/lessons/getLessons.php${t}`)}function _(t){return n.get(`${i}/lessons/checkLesson.php${t}`)}function q(t){return n.post(`${i}/lessons/createLesson.php`,t,{headers:{"Content-Type":"application/json"}})}function P(t){return n.delete(`${i}/lessons/deleteLesson.php`,t)}function R(t){return n.patch(`${i}/lessons/updateLesson.php`,t,{headers:{"Content-Type":"application/json"}})}export{G as A,p as G,I as S,w as T,b as a,F as b,V as c,x as d,U as e,q as f,D as g,_ as h,N as i,P as j,R as k,T as o,O as r};
