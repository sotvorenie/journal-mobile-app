var d=Object.defineProperty;var m=(s,t,e)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>m(s,typeof t!="symbol"?t+"":t,e);import{p as l,d as n,u as i,U as u}from"./useUser-DzHQLjoF.js";class T{constructor(){o(this,"selectors",{root:"[data-js-theme]",body:"[data-js-theme-body]",btn:"[data-js-theme-btn]"});o(this,"classes",{isLight:"is-light",isDark:"is-dark"});this.themeElement=$(this.selectors.root),this.themeBodyElement=this.themeElement.find(this.selectors.body),this.themeBtnElement=this.themeBodyElement.find(this.selectors.btn),this.theme="light",this.loadFunctions(),this.bindEvents()}loadFunctions(){this.theme=window.localStorage.getItem("theme")??"light",this.changeTheme(this.theme)}bindEvents(){this.themeBodyElement.on("click",this.clickToTheme.bind(this))}clickToTheme(){this.themeBtnElement.hasClass(this.classes.isLight)?this.changeTheme("dark"):this.changeTheme("light")}changeTheme(t){t==="light"?this.setClassToBtn(this.classes.isDark,this.classes.isLight):this.setClassToBtn(this.classes.isLight,this.classes.isDark),this.setClassToBody(t),this.setToLocStore(t)}setClassToBtn(t,e){this.themeBtnElement.removeClass(t),this.themeBtnElement.addClass(e)}setClassToBody(t){t==="light"?$(document.body).removeClass(this.classes.isDark):$(document.body).addClass(this.classes.isDark)}setToLocStore(t){window.localStorage.setItem("theme",t)}}class f{constructor(){o(this,"selectors",{root:"[data-js-animation]",body:"[data-js-animation-body]",btn:"[data-js-animation-btn]"});o(this,"classes",{isActive:"is-active"});this.animationElement=$(this.selectors.root),this.animationBodyElement=this.animationElement.find(this.selectors.body),this.animationBtnElement=this.animationElement.find(this.selectors.btn),this.animation=!0,this.loadFunctions(),this.bindEvents()}loadFunctions(){this.animation=window.localStorage.getItem("animation")==="true",this.changeAnimation(this.animation)}bindEvents(){this.animationBodyElement.on("click",this.clickToAnimation.bind(this))}clickToAnimation(){this.animationBtnElement.hasClass(this.classes.isActive)?this.changeAnimation(!1):this.changeAnimation(!0)}changeAnimation(t){jQuery.fx.off=!t,this.setClassToBtn(t),this.setToLocStore(t)}setClassToBtn(t){t?this.animationBtnElement.addClass(this.classes.isActive):this.animationBtnElement.removeClass(this.classes.isActive)}setToLocStore(t){window.localStorage.setItem("animation",t)}}function p(s){let t=s.getBoundingClientRect(),e=t.top,a=t.left;return{top:e,left:a}}class S{constructor(){o(this,"selectors",{settings:"[data-js-settings]",open:"[data-js-settings-open]",close:"[data-js-settings-close]"});this.settingsElement=$(this.selectors.settings),this.settingsOpenBtn=$(this.selectors.open),this.settingsCloseBtn=$(this.selectors.close),this.bindEvents()}bindEvents(){this.settingsOpenBtn.on("click",this.openSettingsBlock.bind(this)),this.settingsCloseBtn.on("click",this.closeSettingsBlock.bind(this))}openSettingsBlock(){let t=p(this.settingsOpenBtn[0]);this.settingsElement.css({transformOrigin:`${l(t.left)+1.5}rem ${l(t.top)+1.5}rem`}),this.settingsElement.animate({opacity:1,scale:1},150,function(){$(this).css("border-radius","0")})}closeSettingsBlock(){this.settingsElement.animate({opacity:0,scale:0},150)}}function b(s){return n.get(`${i}/student_group/getStudentsGroups.php${s}`)}function g(s){return n.get(`${i}/student_group/checkStudentGroup.php${s}`)}function k(s){return n.post(`${i}/student_group/createStudentGroup.php`,s,{headers:{"Content-Type":"application/json"}})}function y(s){return n.delete(`${i}/student_group/deleteStudentGroup.php`,s)}function C(s){return n.patch(`${i}/student_group/updateStudentGroup.php`,s,{headers:{"Content-Type":"application/json"}})}const h=class h{constructor(){o(this,"checkGroup",async(t="",e="")=>{try{let a=`?user_id=${u.activeUser.id}&id=${t}&name=${e}`;const c=await g(a);if(c.status===200)return!c.data.length;alert("Что-то пошло не так..")}catch{alert("Что-то пошло не так..")}})}getFromLocStore(){h.activeGroup=JSON.parse(window.localStorage.getItem("activeGroup")??"{}")}};o(h,"activeGroup",{});let r=h;function v(s){return n.get(`${i}/lessons/getLessons.php${s}`)}function L(s){return n.get(`${i}/lessons/checkLesson.php${s}`)}function j(s){return n.post(`${i}/lessons/createLesson.php`,s,{headers:{"Content-Type":"application/json"}})}function G(s){return n.delete(`${i}/lessons/deleteLesson.php`,s)}function w(s){return n.patch(`${i}/lessons/updateLesson.php`,s,{headers:{"Content-Type":"application/json"}})}export{f as A,r as G,S,T,p as a,v as b,k as c,y as d,j as e,L as f,b as g,G as h,w as i,C as r};
